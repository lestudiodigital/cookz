{"version":3,"sources":["src/state/Signal.js","src/state/createStore.js","src/state/index.js","node_modules/browser-cookies/src/browser-cookies.js","src/cookie.js","src/store.js","src/ga.js","src/types.js","node_modules/crel/crel.es.js","node_modules/classnames/index.js","src/ui/banner.js","src/ui/popin.js","src/ui/debug.js","src/ui/index.js","index.js"],"names":["Signal","SignalListener","owner","fn","ctx","once","removeNode","node","prev","next","_first","_last","prototype","dispatch","a0","a1","a2","a3","a4","call","unlisten","listen","listenOnce","unlistenAll","createStore","StoreSignal","value","current","state","signals","k","Object","freeze","create","constructor","undefined","set","force","get","browserCookie","window","require","CookieAbstraction","key","val","opts","expires","erase","cookies","add","console","warn","eraseAll","popinStatus","bannerStatus","hasInteract","init","getExpirationDate","ga","gaCreate","Number","split","pop","t","Date","getTime","t1","tDiff","Math","round","e","secExpire","appendScript","UA","libScript","document","createElement","funcScript","setAttribute","innerHTML","body","getElementsByTagName","appendChild","start","props","cookie","anonymizeIp","forceSSL","firstPageView","gtag","params","trigger","func","functional","name","logs","log","FUNCTIONAL","PERFORMANCE","SOCIAL","ADVERTISING","crel","createCommonjsModule","module","exports","exporter","product","isNodeString","isType","object","type","element","child","Array","isArray","map","subChild","createTextNode","settings","args","attribute","arguments","index","isElement","attrMap","length","Element","Node","proxy","Proxy","target","bind","$banner","$accept","$configure","$title","$description","translations","banner","class","title","description","accept","configure","hide","store","updateTexts","destroy","show","classList","remove","onAccept","onConfigure","toggle","bool","addEventListener","removeEventListener","trlts","cks","dom","$popin","$form","$submit","$fields","createField","field","inputParams","id","required","checked","push","for","prms","forEach","pr","submit","trls","$field","querySelector","onSubmit","preventDefault","$inputs","slice","srcElement","querySelectorAll","input","getAttribute","TYPES","$debug","valid","updateField","values","update","popin","debug","dbg","className","$cookz","UI","_cookies","customCookies","services","isFunctional","isPerformance","isSocial","isAdvertising","storeValues","service","assign","css"],"mappings":";AAiIeA,aAjIf,SAASC,EAAgBC,EAAOC,EAAIC,EAAKC,GAClCF,KAAAA,GAAKA,EACLC,KAAAA,IAAMA,GAAO,KACbF,KAAAA,MAAQA,EACRG,KAAAA,OAASA,EAGhB,SAASC,EAAYJ,EAAOK,GACtBA,EAAKC,OAAMD,EAAKC,KAAKC,KAAOF,EAAKE,MACjCF,EAAKE,OAAMF,EAAKE,KAAKD,KAAOD,EAAKC,MACrCD,EAAKH,IAAMG,EAAKJ,GAAKI,EAAKL,MAAQ,KAC9BK,IAASL,EAAMQ,SAAQR,EAAMQ,OAASH,EAAKE,MAC3CF,IAASL,EAAMS,QAAOT,EAAMS,MAAQJ,EAAKC,MA4B/C,SAASR,KAyFMA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAlFfA,EAAOY,UAAUC,SAAW,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,GAE7CX,IADHA,IAAAA,EAAO,KAAKG,OACTH,GACLA,EAAKJ,GAAGgB,KAAKZ,EAAKH,IAAKU,EAAIC,EAAIC,EAAIC,EAAIC,GACvCX,EAAKF,MAAQ,KAAKe,SAASb,GAC3BA,EAAOA,EAAKE,MAWhBT,EAAOY,UAAUS,OAAS,SAAUlB,EAAIC,EAAKC,GACvCE,IAAAA,EAAO,IAAIN,EAAe,KAAME,EAAIC,EAAKC,GAStCE,OARF,KAAKG,QAIHC,KAAAA,MAAMF,KAAOF,EAClBA,EAAKC,KAAO,KAAKG,MACZA,KAAAA,MAAQJ,IALRG,KAAAA,OAASH,EACTI,KAAAA,MAAQJ,GAMRA,GAUTP,EAAOY,UAAUU,WAAa,SAAUnB,EAAIC,GACnC,OAAA,KAAKiB,OAAOlB,EAAIC,GAAK,IAsB9BJ,EAAOY,UAAUQ,SAAW,SAAUjB,EAAIC,GACpCD,GAAAA,aAAcF,EAAgB,OAAOK,EAAW,KAAMH,GACrDC,IAAKA,EAAM,MAETG,IADHA,IAAAA,EAAO,KAAKG,OACTH,GACDA,EAAKJ,KAAOA,GAAMI,EAAKH,MAAQA,GAAKE,EAAW,KAAMC,GACzDA,EAAOA,EAAKE,MAQhBT,EAAOY,UAAUW,YAAc,WACzBhB,IAAAA,EAAO,KAAKG,OAETH,IADFG,KAAAA,OAAS,KAAKC,MAAQ,KACpBJ,GACLD,EAAW,KAAMC,GACjBA,EAAOA,EAAKE,MAIDT,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACjIf,aAiEewB,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA/Df,IAAA,EAAA,EAAA,QAAA,aA+DeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GApDf,SAASC,EAAaC,GAAcC,KAAAA,QAAUD,EA6C9C,SAASF,EAAaI,GAChBC,IAAAA,EAAU,GACT,IAAA,IAAIC,KAAKF,EAAOC,EAAQC,GAAK,IAAIL,EAAYG,EAAME,IAEjDD,OADPA,EAAUE,OAAOC,OAAOH,GA/C1BJ,EAAYb,UAAYmB,OAAOE,OAAOjC,EAAOY,QAAAA,WAC7Ca,EAAYb,UAAUsB,YAAcT,EACpCA,EAAYb,UAAUC,cAAWsB,EASjCV,EAAYb,UAAUwB,IAAM,SAAUV,EAAOW,GACvC,GAACA,GAAS,KAAKV,UAAYD,EAA3B,CACCC,KAAAA,QAAUD,EAERnB,IADHA,IAAAA,EAAO,KAAKG,OACTH,GACLA,EAAKF,MAAQ,KAAKe,SAASb,GAC3BA,EAAKJ,GAAGgB,KAAKZ,EAAKH,IAAK,KAAKuB,SAC5BpB,EAAOA,EAAKE,OAShBgB,EAAYb,UAAU0B,IAAM,SAAUZ,GAC7B,OAAA,KAAKC,SAuBCH,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACjEf,aAGA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,cAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WADA,IAAA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,aAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA;;ACHA,QAAA,SAAA,GAEA,QAAA,IAAA,SAAA,EAAA,EAAA,GAEA,IAAA,EAAA,GAAA,GACA,EAAA,QAAA,SAGA,EAAA,EAAA,SAAA,EAAA,QACA,EAAA,EAAA,QAAA,EAAA,OACA,OAAA,IAAA,EAAA,KAAA,EAAA,UAAA,IAAA,EAAA,KAAA,EAAA,KAAA,IACA,OAAA,IAAA,EAAA,OAAA,EAAA,OAAA,EAAA,OACA,OAAA,IAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SACA,OAAA,IAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAIA,EAAA,EAAA,IAAA,KAEA,iBAAA,GAAA,IAAA,MAAA,UAAA,MAAA,EAEA,GACA,EAGA,SAAA,OAAA,EAAA,QAAA,cAAA,oBACA,QAAA,IAAA,OACA,QAAA,IAAA,OACA,IAAA,EAAA,QAAA,sBAAA,qBACA,GAAA,EAAA,WAAA,EAAA,YAAA,EAAA,cAAA,KACA,EAAA,WAAA,EAAA,KACA,EAAA,SAAA,EAAA,KACA,EAAA,UAAA,KACA,EAAA,YAAA,KACA,EAAA,aAAA,EAAA,KAGA,QAAA,IAAA,SAAA,GAIA,IAHA,IAAA,EAAA,SAAA,OAAA,MAAA,KAGA,EAAA,QAAA,CACA,IAAA,EAAA,EAAA,MAGA,EAAA,EAAA,QAAA,KAQA,GALA,EAAA,EAAA,EAAA,EAAA,OAAA,EAEA,mBAAA,EAAA,MAAA,EAAA,GAAA,QAAA,OAAA,OAGA,EACA,OAAA,mBAAA,EAAA,MAAA,EAAA,IAKA,OAAA,MAGA,QAAA,MAAA,SAAA,EAAA,GACA,QAAA,IAAA,EAAA,GAAA,CACA,SAAA,EACA,OAAA,GAAA,EAAA,OACA,KAAA,GAAA,EAAA,KACA,OAAA,EACA,SAAA,KAIA,QAAA,IAAA,WAKA,IAJA,IAAA,EAAA,GACA,EAAA,SAAA,OAAA,MAAA,KAGA,EAAA,QAAA,CACA,IAAA,EAAA,EAAA,MAGA,EAAA,EAAA,QAAA,KAGA,EAAA,EAAA,EAAA,EAAA,OAAA,EAIA,EADA,mBAAA,EAAA,MAAA,EAAA,GAAA,QAAA,OAAA,MACA,mBAAA,EAAA,MAAA,EAAA,IAGA,OAAA;;AC7CC,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA9CD,IAAIe,EA8CH,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAAA,QAAA,IAAA,EAAA,QAAA,IAAA,EAAA,QAAA,SAAA,EAAA,QAAA,aAAA,EA7CqB,oBAAXC,SAAwBD,EAAgBE,QAAQ,oBAErDC,IAAAA,EA2CL,WA1CcC,SAAAA,EAAAA,GAAK,EAAA,KAAA,GACXA,KAAAA,IAAMA,EAyCd,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,MAtCQ,MAAA,WACEJ,QAAAA,GAAgBA,EAAcD,IAAI,KAAKK,OAqCjD,CAAA,IAAA,MAlCMC,MAAAA,SAAAA,GAAKC,IAAAA,EAAO,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,CAACC,QAAS,KACzBP,GAAiBA,EAAcH,IAAI,KAAKO,IAAKC,EAAKC,KAiCrD,CAAA,IAAA,QA9BU,MAAA,WACPN,GAAiBA,EAAcQ,MAAM,KAAKJ,SA6B7C,EAAA,GAzBGK,EAAU,GAEd,SAASC,EAAKN,GACRK,IAAAA,EAAQL,GAKLK,OAAAA,EAAQL,GAAO,IAAID,EAAkBC,GAJ1CO,QAAQC,KAAK,wBAOjB,SAASb,EAAIK,GACP,GAACK,EAAQL,GACR,OAAOK,EAAQL,GADDO,QAAQC,KAAQR,GAAAA,OAAAA,EAAnC,oBAIF,SAASP,EAAIO,EAAKC,GACXI,EAAQL,GACRK,EAAQL,GAAKP,IAAIQ,GADHM,QAAQC,KAAQR,GAAAA,OAAAA,EAAnC,oBAIF,SAASS,IACF,IAAA,IAAMT,KAAOK,EAChBA,EAAQL,GAAKI,QAEhB,QAAA,QAAA;;AC9Cc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbM,aAAa,EACbC,cAAc,EACdC,aAAa,GAHA,QAAA,QAAA;;ACoEAC,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EApEf,IAAA,EAAA,QAAA,YACA,EAAA,EAAA,QAAA,YAmEeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAjEf,SAASC,EAAmBC,GAEtB,IACIC,IAAAA,EAA2C,IAA/BC,OAAOF,EAAGG,MAAM,KAAKC,OACjCC,GAAI,IAAIC,MAAOC,UAEfC,EADK,IAAIF,KAAKL,GAAUM,UAJd,QAOTE,OADOC,KAAKC,OAAOH,EAAKH,GAAK,KAEpC,MAAOO,GACAC,OAAAA,SAIX,SAASC,EAAcC,GACfC,IAAAA,EAAYC,SAASC,cAAc,UACnCC,EAAaF,SAASC,cAAc,UAE1CF,EAAUI,aAAa,QAAS,QAChCJ,EAAUI,aAAa,MAAsDL,+CAAAA,OAAAA,IAE7EI,EAAWC,aAAa,OAAQ,mBAChCD,EAAWE,UAAX,qIAMMC,IAAAA,EAAOL,SAASM,qBAAqB,QAAQ,GACnDD,EAAKE,YAAYR,GACjBM,EAAKE,YAAYL,GAGnB,SAASM,EAAOC,EAAOC,GACdZ,IAAAA,EAAkEW,EAAlEX,GAAkEW,EAAAA,EAA9DE,YAAAA,OAAc,IAAA,GADI,EAC4CF,EAAAA,EAA1CG,SAAAA,OAAW,IAAA,GADb,EAC4CH,EAAAA,EAAzBI,cAAAA,OAAgB,IAAA,GADnC,EAE7BhD,OAAOiD,KAAK,KAAM,IAAIzB,MAEhB0B,IAAAA,EAAS,CACKjC,eAAAA,EAAkB4B,GACpBC,aAAAA,EACJC,SAAAA,EACMC,eAAAA,GAGpBhD,OAAOiD,KAAK,SAAahB,GAAAA,OAAAA,GAAMiB,GAGjC,SAASC,EAASC,IACW,IAArBC,EAAAA,QAAAA,WAAWvD,OAAkBsD,EAAKpD,OAAOiD,MAGjD,SAASjC,EAAM4B,GACQA,EAAdU,KAAcV,EAARW,MACL7C,QAAQ8C,IAAqBZ,gBAAAA,GAErCZ,EAAaY,EAAMX,IACbY,IAAAA,GAAS,EAAI,EAAA,KAAA,OAGZ,OAFPF,EAAMC,EAAOC,EAAO/C,OAEb,CACL+C,OAAAA,EACAM,QAAAA,GAIWnC,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACpEA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbyC,WAAY,aACZC,YAAa,cACbC,OAAQ,SACRC,YAAa,eAJA,QAAA,QAAA;;AC+FAC,aA/Ff,SAASC,EAAqBnG,EAAIoG,GAC1BA,OAA0BpG,EAA1BoG,EAAS,CAAEC,QAAS,IAAiBD,EAAOC,SAAUD,EAAOC,QA8FtDH,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA3Ff,IAAIA,EAAOC,EAAqB,SAAUC,EAAQC,IAYjD,SAAUC,GAGHb,IAoEKc,EApELd,EAAO,WACPe,EAAe,SAEfC,EAAS,SAAUC,EAAQC,GAAe,cAAOD,IAAWC,GAE5D5B,EAAc,SAAU6B,EAASC,GACf,OAAVA,IACIC,MAAMC,QAAQF,GACdA,EAAMG,IAAI,SAAUC,GAAmBlC,OAAAA,EAAY6B,EAASK,MAEvDf,EAAKM,GAAcK,KACpBA,EAAQrC,SAAS0C,eAAeL,IAEpCD,EAAQ7B,YAAY8B,MAK3BX,SAAAA,EAAMU,EAASO,GAEhBC,IAEA5E,EACA6E,EAHAD,EAAOE,UACPC,EAAQ,EAMRd,GAFJG,EAAUV,EAAKsB,UAAUZ,GAAWA,EAAUpC,SAASC,cAAcmC,GAEjEH,EAAOU,EAAU,YAAcjB,EAAKM,GAAcW,KAAcL,MAAMC,QAAQI,GAIzE3E,IAAAA,KAFL+E,IAEYJ,EAERE,EAAYF,EAAS3E,GAErBA,EAAM0D,EAAKuB,QAAQjF,IAAQA,EAEvBiE,EAAOjE,EAAKiD,GACZjD,EAAIoE,EAASS,GACNZ,EAAOY,EAAW5B,GACzBmB,EAAQpE,GAAO6E,EAGfT,EAAQjC,aAAanC,EAAK6E,GAK/BE,KAAAA,EAAQH,EAAKM,OAAQH,IACxBxC,EAAY6B,EAASQ,EAAKG,IAGvBX,OAAAA,EAIXV,EAAKuB,QAAU,GACfvB,EAAKsB,UAAY,SAAUd,GAAiBA,OAAAA,aAAkBiB,SAC9DzB,EAAKM,GAAgB,SAAUpG,GAAeA,OAAAA,aAAgBwH,MAE9D1B,EAAK2B,MAAQ,IAAIC,MAAM5B,EAAM,CACzB/D,IAAK,SAAU4F,EAAQvF,GAEZ0D,QADL1D,KAAO0D,KAAUA,EAAK1D,GAAO0D,EAAK8B,KAAK,KAAMxF,IACxC0D,EAAK1D,MAKX+D,EADAL,EAILE,EAAOC,QAAUE,EA1ExB,KA+EcL,EAAAA,EAAAA,QAAAA,QAAAA;;;AC3Cf,IAAA,GA7CA,WACA,aAEA,IAAA,EAAA,GAAA,eAEA,SAAA,IAGA,IAFA,IAAA,EAAA,GAEA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CACA,IAAA,EAAA,UAAA,GACA,GAAA,EAAA,CAEA,IAAA,SAAA,EAEA,GAAA,WAAA,GAAA,WAAA,EACA,EAAA,KAAA,QACA,GAAA,MAAA,QAAA,IAAA,EAAA,OAAA,CACA,IAAA,EAAA,EAAA,MAAA,KAAA,GACA,GACA,EAAA,KAAA,QAEA,GAAA,WAAA,EACA,IAAA,IAAA,KAAA,EACA,EAAA,KAAA,EAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAMA,OAAA,EAAA,KAAA,KAGA,oBAAA,QAAA,OAAA,SACA,EAAA,QAAA,EACA,OAAA,QAAA,GACA,mBAAA,GAAA,iBAAA,EAAA,KAAA,EAAA,IAEA,EAAA,aAAA,GAAA,WACA,OAAA,IAGA,OAAA,WAAA,EA1CA;;AC0Fe7C,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAjGf,IAII4E,EACAC,EACAC,EACAC,EACAC,EACAxF,EACAyF,EAVJ,EAAA,EAAA,QAAA,SACA,EAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,aA+FejF,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GArFf,SAASvB,IACUwG,IAAVC,EAAUD,EAAVC,OACPH,GAAS,EAAK,EAAA,SAAA,MAAO,CAACI,MAAO,gBAAiBD,EAAOE,OACrDJ,GAAe,EAAK,EAAA,SAAA,MAAO,CAACG,MAAO,sBAAuBD,EAAOG,aACjER,GAAU,EAAK,EAAA,SAAA,SAAU,CAACM,MAAO,iBAAkBD,EAAOI,QAC1DR,GAAa,EAAK,EAAA,SAAA,SAAU,CAACK,MAAO,iBAAkBD,EAAOK,WAE7DX,GAAU,EACR,EAAA,SAAA,MACA,CAACO,OAAO,EAAW,EAAA,SAAA,mBAAoB,CAACK,MAAOC,EAAM3F,QAAAA,aAAahB,UAClE,EACE,EAAA,SAAA,MACA,CAACqG,MAAO,kBACRJ,EACAC,GACA,EAAK,EAAA,SAAA,MAAO,CAACG,MAAO,eAAgBN,EAASC,KAIjDjH,IAGF,SAAS6H,EAAaT,GACbC,IAAAA,EAAUD,EAAVC,OAEPH,EAAOxD,UAAY2D,EAAOE,MAC1BJ,EAAazD,UAAY2D,EAAOG,YAChCR,EAAQtD,UAAY2D,EAAOI,OAC3BR,EAAWvD,UAAY2D,EAAOK,UAGhC,SAASI,IACPV,EAAe,KACfzF,EAAU,KACV5B,IAGF,SAASgI,IACPhB,EAAQiB,UAAUC,OAAO,QAG3B,SAASN,IACPZ,EAAQiB,UAAUpG,IAAI,QAGxB,SAASsG,IAIF,IAAA,IAAM5G,KAHLW,EAAAA,QAAAA,aAAalB,KAAI,GACjBmB,EAAAA,QAAAA,YAAYnB,KAAI,GAEJY,EACVL,EAAAA,QAAAA,GAAKP,KAAI,GAInB,SAASoH,IACDlG,EAAAA,QAAAA,aAAalB,KAAI,GACjBiB,EAAAA,QAAAA,YAAYjB,KAAI,GAGxB,IAAMqH,EAAS,SAAAC,GAAQA,OAAAA,EAAON,IAASJ,KAEvC,SAAS3H,IACDiC,EAAAA,QAAAA,aAAajC,OAAOoI,GAC1BpB,EAAQsB,iBAAiB,QAASJ,GAClCjB,EAAWqB,iBAAiB,QAASH,GAGvC,SAASpI,IACDkC,EAAAA,QAAAA,aAAalC,SAASqI,GAC5BpB,EAAQuB,oBAAoB,QAASL,GACrCjB,EAAWsB,oBAAoB,QAASJ,GAG1C,SAAShG,EAAMqG,EAAOC,GAKb,OAJPrB,EAAcoB,EACd7G,EAAU8G,EACV7H,IAEO,CACLiH,YAAAA,EACAC,QAAAA,EACAY,IAAK3B,GAIM5E,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACyCAA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA1If,IAMIiF,EACAzF,EAEAgH,EATJ,EAAA,EAAA,QAAA,SACA,EAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,eAsIexG,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAhIf,IACIyG,EACAC,EAFAC,EAAU,GAId,SAASC,EAAazH,EAAK+C,GACnB2E,IAAAA,EAAQ5B,EAAa9F,GACvB,GAAC0H,GAAUA,EAAMzB,OAAUyB,EAAMxB,YAAjC,CAKEyB,IAAAA,EAAc,CAACxD,KAAM,WAAYhB,KAAMnD,EAAK4H,GAAI5H,GAClD+C,EAAO8E,WAAUF,EAAYE,SAAW,YAExCvB,EAAMtG,QAAAA,GAAKL,QAAOgI,EAAYG,SAAU,GAE5CN,EAAQO,MACN,EACE,EAAA,SAAA,MACA,CAAC/B,MAAO,UACR,EAAK,EAAA,SAAA,QAAS2B,IACd,EACE,EAAA,SAAA,QACA,CAAC3B,MAAO,QAAS7B,KAAM,WAAY6D,IAAKhI,IACxC,EAAK,EAAA,SAAA,OAAQ,CAACgG,MAAO,eAAgB0B,EAAMzB,QAC3C,EAAK,EAAA,SAAA,OAAQ,CAACD,MAAO,qBAAsB0B,EAAMxB,qBAlBrD3F,QAAQC,KAA8CR,yCAAAA,OAAAA,IAwB1D,SAASV,EAAQyD,GACJ/C,IAAAA,EAAAA,SAAAA,GACLiI,IAAAA,OAAJ,EACAlF,EAAOmF,QAAQ,SAAAC,GACTA,EAAGhE,OAASnE,IAAKiI,EAAOE,KAG9BV,EAAYzH,EAAKiI,IANd,IAAA,IAAMjI,KAAOK,EAAPL,EAAAA,GASXuH,GAAU,EAAK,EAAA,SAAA,SAAU,CAACpD,KAAM,UAAW2B,EAAasC,QAExDd,GAAQ,EACN,EAAA,SAAA,OACAE,EACAD,GAGFF,GAAS,EACP,EAAA,SAAA,MACA,CAACrB,OAAO,EAAW,EAAA,SAAA,kBAAmB,CAACK,MAAOC,EAAM5F,QAAAA,YAAYf,SAChE2H,GAGF5I,IAGF,SAAS6H,EAAaT,GACpByB,EAAQnF,UAAY0D,EAAasC,OAE7BrD,IAAAA,EAAQ,EACP,IAAA,IAAM/E,KAAOK,EAAS,CACnBgI,IAAAA,EAAOvC,EAAa9F,GACpBsI,EAASd,EAAQzC,GAEvBuD,EAAOC,cAAc,gBAAgBnG,UAAYiG,EAAKpC,MACtDqC,EAAOC,cAAc,sBAAsBnG,UAAYiG,EAAKnC,YAE5DnB,KAIJ,SAASyD,EAAU7G,GACjBA,EAAE8G,iBACIC,IAAAA,EAAU,GAAGC,MAAMnK,KAAKmD,EAAEiH,WAAWC,iBAAiB,2BAEtD5J,EAAQ,GACdyJ,EAAQR,QAAQ,SAAAY,GACR9I,IAAAA,EAAM8I,EAAMC,aAAa,QACzB9I,EAAM6I,EAAMhB,QAClB7I,EAAMe,GAAOC,EACPD,EAAAA,QAAAA,GAAKP,IAAIQ,IACXD,EAAAA,EAAAA,KAAAA,EAAKC,EAAM,IAAM,OAGlBhB,EAAM+J,EAAM1F,QAAAA,cAAa,EAAA,EAAA,YACxB5C,EAAAA,QAAAA,YAAYjB,KAAI,GAChBmB,EAAAA,QAAAA,YAAYnB,KAAI,GAGxB,SAASgH,IACPY,EAAOX,UAAUC,OAAO,QAG1B,SAASN,IACPgB,EAAOX,UAAUpG,IAAI,QAGvB,IAAMwG,EAAS,SAACC,GAASA,OAAAA,EAAON,IAASJ,KAEzC,SAAS3H,IACP4I,EAAMN,iBAAiB,SAAUwB,GAC3B9H,EAAAA,QAAAA,YAAYhC,OAAOoI,GAG3B,SAASrI,IACP6I,EAAML,oBAAoB,SAAUuB,GAC9B9H,EAAAA,QAAAA,YAAYjC,SAASqI,GAG7B,SAASN,IACP/H,IAGF,SAASoC,EAAMqG,EAAOC,EAAKpE,GAMlB,OALP+C,EAAcoB,EACd7G,EAAU8G,EAEV7H,EAAOyD,GAEA,CACLwD,YAAAA,EACAC,QAAAA,EACAY,IAAKC,GAIMxG,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACxEAA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAlEf,IAAA,EAAA,EAAA,QAAA,SACA,EAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,eAgEeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GA9Df,IACIoI,EADAzB,EAAU,GAGd,SAASC,EAAazH,EAAKC,GAClB,OAAA,EACL,EAAA,SAAA,MACA,CAAC+F,OAAO,EAAW,EAAA,SAAA,cAAe,CAACkD,MAAOjJ,KACvCD,GAAAA,OAAAA,EAASC,OAAAA,OAAAA,IAIhB,IAAMkJ,EAAc,SAACnJ,GAAQ,OAAA,SAACC,GAC5BuH,EAAQxH,GAAKoC,UAAepC,GAAAA,OAAAA,EAASC,OAAAA,OAAAA,GACrCuH,EAAQxH,GAAK0G,UAAUI,OAAO,QAAS7G,KAGzC,SAASX,IACF,IAAA,IAAMU,KAAOsG,EAAlB,QACEkB,EAAQxH,GAAOyH,EAAYzH,EAAKsG,EAAMtG,QAAAA,GAAKL,OAG7CsJ,GAAS,EACP,EAAA,SAAA,MACA,CAACjD,MAAO,mBACR5G,OAAOgK,OAAO5B,IAGhB9I,IAIF,SAASA,IACF,IAAA,IAAMsB,KAAOsG,EAAlB,QACQtG,EAAAA,QAAAA,GAAKtB,OAAOyK,EAAYnJ,IAIlC,SAASvB,IACF,IAAA,IAAMuB,KAAOsG,EAAlB,QACQtG,EAAAA,QAAAA,GAAKvB,SAAS0K,GAIxB,SAASE,KAIT,SAAS7C,IACP/H,IAGF,SAASoC,IAIA,OAFPvB,IAEO,CACL+J,OAAAA,EACA7C,QAAAA,EACAY,IAAK6B,GAIMpI,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACtBd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EA5CD,IAOIkF,EACAuD,EACAC,EATJ,EAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,YACA,EAAA,EAAA,QAAA,YACA,EAAA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,SACA,EAAA,EAAA,QAAA,eAuCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjCD,IAAMlH,EAAOL,SAASM,qBAAqB,QAAQ,GAEnD,SAASiE,EAAaT,GACpBC,EAAOQ,YAAYT,GACnBwD,EAAM/C,YAAYT,GAGpB,SAASU,IACPT,EAAOS,UACP8C,EAAM9C,UACN+C,GAASA,EAAM/C,UAGF,SAAS3F,EAAMR,EAASyF,EAAc/C,EAAQyG,GAAKC,IAAAA,EAAY,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAC5E1D,GAAS,EAAOD,EAAAA,SAAAA,EAAczF,GAC9BiJ,GAAQ,EAAMxD,EAAAA,SAAAA,EAAczF,EAAS0C,GACjCyG,IAAKD,GAAQ,EAAR,EAAA,YAEHG,IAAAA,GAAS,EACb,EAAA,SAAA,MACA,CAAC1D,OAAO,EAAW,EAAA,SAAA,kBAAmByD,IACtC1D,EAAOqB,IACPkC,EAAMlC,IACNoC,EAAMD,EAAMnC,IAAM,MAKb,OAFP/E,EAAKE,YAAYmH,GAEV,CACLnD,YAAAA,EACAC,QAAAA,EACAY,IAAKsC;;;;AC0DT,aApGA,IAAA,EAAA,QAAA,eAEA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,gBACA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,mBAEA,EAAA,EAAA,QAAA,oBA4FA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1FA,IAGIC,EAHEC,EAAW,GACXC,EAAgB,GAChBC,EAAW,GAGXT,EAAS,SAAClG,GAAS,OAAA,SAAClD,GAClBmD,EAAAA,QAAAA,KAAKzD,OAASY,QAAQ8C,IAAyBF,qBAAAA,OAAAA,EAAWlD,QAAAA,OAAAA,IAChE2J,EAASzG,GAAM1D,IAAIQ,EAAM,IAAM,OAGjC,SAASvB,IACH,IAAA,IAAMsB,KAAO4J,EACT5J,EAAAA,QAAAA,GAAKtB,OAAO2K,EAAOrJ,IAI7B,SAASuG,EAAaT,GACpB6D,EAAGpD,YAAYT,GAGjB,SAASjF,EAAMkC,GACN1C,IAIH0J,EACAC,EACAC,EACAC,EAPG7J,EAAiD0C,EAAjD1C,QAAeyF,GAAkC/C,EAAxCK,KAAwCL,EAAlC+C,cAAcyD,EAAoBxG,EAApBwG,MAAOE,EAAa1G,EAAb0G,UACrCU,EAAc,GACpBA,EAAY/G,KAAOL,EAAOK,OAAQ,EAOlC/C,EAAQ6H,QAAQ,SAAAxF,GACNS,IAAAA,EAAST,EAATS,KAER4G,GAAgBrH,EAAOyB,OAAS6E,EAAM1F,QAAAA,WACtC0G,GAAiBtH,EAAOyB,OAAS6E,EAAMzF,QAAAA,YACvC0G,GAAYvH,EAAOyB,OAAS6E,EAAMxF,QAAAA,OAClC0G,GAAiBxH,EAAOyB,OAAS6E,EAAMvF,QAAAA,YAGhB,OAAnBf,EAAO0H,SAAoB1H,EAAOyB,OAAS6E,EAAMzF,QAAAA,YACnDuG,EAAS/I,IAAK,EAAG2B,EAAAA,SAAAA,GACRA,EAAOyB,OAAS6E,EAAM1F,QAAAA,aAC/BuG,EAAc1G,IAAQ,EAAIT,EAAAA,KAAAA,EAAOS,UAKjC8G,GAAYD,GAAiBE,KAAeH,GAAe,GAG3DA,IACFH,EAASZ,EAAM1F,QAAAA,aAAc,EAAI0F,EAAAA,KAAAA,EAAM1F,QAAAA,YACvC6G,EAAYnB,EAAM1F,QAAAA,YAAmD,MAArCsG,EAASZ,EAAM1F,QAAAA,YAAY3D,OAIzDqK,IACFJ,EAASZ,EAAMzF,QAAAA,cAAe,EAAIyF,EAAAA,KAAAA,EAAMzF,QAAAA,aACxC4G,EAAYnB,EAAMzF,QAAAA,aAAqD,MAAtCqG,EAASZ,EAAMzF,QAAAA,aAAa5D,OAI3DsK,IACFL,EAASZ,EAAMxF,QAAAA,SAAU,EAAIwF,EAAAA,KAAAA,EAAMxF,QAAAA,QACnC2G,EAAYnB,EAAMxF,QAAAA,QAA2C,MAAjCoG,EAASZ,EAAMxF,QAAAA,QAAQ7D,OAIjDuK,IACFN,EAASZ,EAAMvF,QAAAA,cAAe,EAAIuF,EAAAA,KAAAA,EAAMvF,QAAAA,aACxC0G,EAAYnB,EAAMvF,QAAAA,aAAqD,MAAtCmG,EAASZ,EAAMvF,QAAAA,aAAa9D,OAI/DP,OAAOiL,OAAO/D,EAAd,SAAqB,EAAYlH,EAAAA,aAAAA,OAAOiL,OAAO/D,EAAd,QAAqB6D,KAGjDP,EAASZ,EAAM1F,QAAAA,YAAY3D,QACxBgB,EAAAA,QAAAA,aAAalB,KAAI,GACjBmB,EAAAA,QAAAA,YAAYnB,KAAI,IAIxBf,IAGAiL,GAAK,EAAUC,EAAAA,SAAAA,EAAU9D,EAAczF,EAASkJ,EAAOE,GAIzD7F,OAAOC,QAAU,CACfhD,KAAAA,EACAyF,MAAAA,EAFe,QAGf0C,MAAAA,EAHe,QAIfc,SAAAA,EACAQ,IAAAA,EALe,QAMf/D,YAAAA","file":"index.js","sourceRoot":"..","sourcesContent":["function SignalListener (owner, fn, ctx, once) {\n  this.fn = fn\n  this.ctx = ctx || null\n  this.owner = owner\n  this.once = !!once\n}\n\nfunction removeNode (owner, node) {\n  if (node.prev) node.prev.next = node.next\n  if (node.next) node.next.prev = node.prev\n  node.ctx = node.fn = node.owner = null\n  if (node === owner._first) owner._first = node.next\n  if (node === owner._last) owner._last = node.prev\n}\n\n/**\n * Create a new Signal instance\n * @class\n * @constructor\n * @return {Signal} A new signal\n * @example\n * import { Signal } from '@internet/state'\n * const click = new Signal()\n * document.addEventListener('click', click.dispatch)\n *\n * class Component {\n *   constructor () {\n *     click.listen(this.onClick, this)\n *   }\n *\n *   onClick () {\n *     // `this` is the component instance\n *     console.log('clicked')\n *   }\n *\n *   dispose () {\n *     click.unlisten(this.onClick, this)\n *   }\n * }\n */\nfunction Signal () {}\n\n/**\n * Dispatches the signal to all listeners.\n * @method\n * @param {...*} [arguments] Arguments passed to each listeners (:warning: 5 maximum)\n */\nSignal.prototype.dispatch = function (a0, a1, a2, a3, a4) {\n  var node = this._first\n  while (node) {\n    node.fn.call(node.ctx, a0, a1, a2, a3, a4)\n    node.once && this.unlisten(node)\n    node = node.next\n  }\n}\n\n/**\n * Register a new listener\n * @method\n * @param {Function} callback Callback function\n * @param {*} [context] The context to bind the callback to\n * @return {SignalListener} A SignalListener instance containing bindings to the signal.\n */\nSignal.prototype.listen = function (fn, ctx, once) {\n  var node = new SignalListener(this, fn, ctx, once)\n  if (!this._first) {\n    this._first = node\n    this._last = node\n  } else {\n    this._last.next = node\n    node.prev = this._last\n    this._last = node\n  }\n  return node\n}\n\n/**\n * Register a new listener that will be executed only once.\n * @method\n * @param {Function} callback Callback function\n * @param {*} [context] The context to bind the callback to\n * @return {SignalListener} A SignalListener instance containing bindings to the signal.\n */\nSignal.prototype.listenOnce = function (fn, ctx) {\n  return this.listen(fn, ctx, true)\n}\n\n/**\n * Detach a listener from the signal\n * You can also pass\n * @method\n * @param {(Function|SignalListener)} callback The callback used when listening to the signal **OR** The SignalListener instance returned when listening the signal\n * @param {*} [context] The context used when listening to the signal (only when the 1st arg is a function)\n * @example\n * import { Signal } from '@internet/state'\n * const signal = new Signal()\n *\n * // Using the SignalListener binding (better performances)\n * const binding = signal.listen(() => {})\n * signal.unlisten(binding)\n *\n * // Using function\n * function listener () {}\n * signal.listen(listener)\n * signal.unlisten(listener)\n */\nSignal.prototype.unlisten = function (fn, ctx) {\n  if (fn instanceof SignalListener) return removeNode(this, fn)\n  if (!ctx) ctx = null\n  var node = this._first\n  while (node) {\n    if (node.fn === fn && node.ctx === ctx) removeNode(this, node)\n    node = node.next\n  }\n}\n\n/**\n * Remove all listeners attached to the signal instance\n * @method\n */\nSignal.prototype.unlistenAll = function () {\n  var node = this._first\n  this._first = this._last = null\n  while (node) {\n    removeNode(this, node)\n    node = node.next\n  }\n}\n\nexport default Signal\n","'use strict'\n\nimport Signal from './Signal'\n\n/**\n * StoreSignal created by [createStore](#createStore).\n * Inherits from [Signal](#Signal) - See its API for `listen` / `unlisten` methods\n *\n * :warning: `dispatch()` method from Signal is removed and replaced by a `set()` method\n * @param {*} initialValue Initial value\n * @augments Signal\n * @return {StoreSignal} StoreSignal instance\n */\nfunction StoreSignal (value) { this.current = value }\nStoreSignal.prototype = Object.create(Signal.prototype)\nStoreSignal.prototype.constructor = StoreSignal\nStoreSignal.prototype.dispatch = undefined\n\n/**\n * Change the stored value. Dispatch to all listeners the new value\n * @method\n * @param {*} newValue New value to store\n * @param {boolean} [force=false] Nothing is distpatched if the value doesn't change. Set force to true to `force` the dispatch.\n * @return {SignalListener} A SignalListener instance containing bindings to the signal.\n */\nStoreSignal.prototype.set = function (value, force) {\n  if (!force && this.current === value) return\n  this.current = value\n  var node = this._first\n  while (node) {\n    node.once && this.unlisten(node)\n    node.fn.call(node.ctx, this.current)\n    node = node.next\n  }\n}\n\n/**\n * Get current stored value\n * @method\n * @return {*} Current stored value\n */\nStoreSignal.prototype.get = function (value) {\n  return this.current\n}\n\n/**\n * Create a new store containing [StoreSignal](#StoreSignal) instances\n * @param {Object} state Initial state\n * @return {Object} Frozen object containing [StoreSignal](#StoreSignal) instances\n * @example\n * import { createStore } from '@internet/state'\n * const store = createStore({\n *   value: 0\n * })\n *\n * store.value.listen(v => console.log(`value is now ${v}`))\n * store.value.set(3)\n */\nfunction createStore (state) {\n  var signals = {}\n  for (var k in state) signals[k] = new StoreSignal(state[k])\n  signals = Object.freeze(signals)\n  return signals\n}\n\nexport default createStore\n","'use strict'\n\nimport createStore from './createStore'\nimport Signal from './Signal'\n\nexport { createStore, Signal }\n","exports.defaults = {};\r\n\r\nexports.set = function(name, value, options) {\r\n  // Retrieve options and defaults\r\n  var opts = options || {};\r\n  var defaults = exports.defaults;\r\n\r\n  // Apply default value for unspecified options\r\n  var expires  = opts.expires  || defaults.expires;\r\n  var domain   = opts.domain   || defaults.domain;\r\n  var path     = opts.path     !== undefined ? opts.path     : (defaults.path !== undefined ? defaults.path : '/');\r\n  var secure   = opts.secure   !== undefined ? opts.secure   : defaults.secure;\r\n  var httponly = opts.httponly !== undefined ? opts.httponly : defaults.httponly;\r\n  var samesite = opts.samesite !== undefined ? opts.samesite : defaults.samesite;\r\n\r\n  // Determine cookie expiration date\r\n  // If succesful the result will be a valid Date, otherwise it will be an invalid Date or false(ish)\r\n  var expDate = expires ? new Date(\r\n      // in case expires is an integer, it should specify the number of days till the cookie expires\r\n      typeof expires === 'number' ? new Date().getTime() + (expires * 864e5) :\r\n      // else expires should be either a Date object or in a format recognized by Date.parse()\r\n      expires\r\n  ) : 0;\r\n\r\n  // Set cookie\r\n  document.cookie = name.replace(/[^+#$&^`|]/g, encodeURIComponent)                // Encode cookie name\r\n  .replace('(', '%28')\r\n  .replace(')', '%29') +\r\n  '=' + value.replace(/[^+#$&/:<-\\[\\]-}]/g, encodeURIComponent) +                  // Encode cookie value (RFC6265)\r\n  (expDate && expDate.getTime() >= 0 ? ';expires=' + expDate.toUTCString() : '') + // Add expiration date\r\n  (domain   ? ';domain=' + domain     : '') +                                      // Add domain\r\n  (path     ? ';path='   + path       : '') +                                      // Add path\r\n  (secure   ? ';secure'               : '') +                                      // Add secure option\r\n  (httponly ? ';httponly'             : '') +                                      // Add httponly option\r\n  (samesite ? ';samesite=' + samesite : '');                                       // Add samesite option\r\n};\r\n\r\nexports.get = function(name) {\r\n  var cookies = document.cookie.split(';');\r\n  \r\n  // Iterate all cookies\r\n  while(cookies.length) {\r\n    var cookie = cookies.pop();\r\n\r\n    // Determine separator index (\"name=value\")\r\n    var separatorIndex = cookie.indexOf('=');\r\n\r\n    // IE<11 emits the equal sign when the cookie value is empty\r\n    separatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\n\r\n    var cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\n\r\n    // Return cookie value if the name matches\r\n    if (cookie_name === name) {\r\n      return decodeURIComponent(cookie.slice(separatorIndex + 1));\r\n    }\r\n  }\r\n\r\n  // Return `null` as the cookie was not found\r\n  return null;\r\n};\r\n\r\nexports.erase = function(name, options) {\r\n  exports.set(name, '', {\r\n    expires:  -1,\r\n    domain:   options && options.domain,\r\n    path:     options && options.path,\r\n    secure:   0,\r\n    httponly: 0}\r\n  );\r\n};\r\n\r\nexports.all = function() {\r\n  var all = {};\r\n  var cookies = document.cookie.split(';');\r\n\r\n  // Iterate all cookies\r\n  while(cookies.length) {\r\n    var cookie = cookies.pop();\r\n\r\n    // Determine separator index (\"name=value\")\r\n    var separatorIndex = cookie.indexOf('=');\r\n\r\n    // IE<11 emits the equal sign when the cookie value is empty\r\n    separatorIndex = separatorIndex < 0 ? cookie.length : separatorIndex;\r\n\r\n    // add the cookie name and value to the `all` object\r\n    var cookie_name = decodeURIComponent(cookie.slice(0, separatorIndex).replace(/^\\s+/, ''));\r\n    all[cookie_name] = decodeURIComponent(cookie.slice(separatorIndex + 1));\r\n  }\r\n\r\n  return all;\r\n};\r\n","let browserCookie\nif (typeof window !== 'undefined') browserCookie = require('browser-cookies')\n\nclass CookieAbstraction {\n  constructor (key) {\n    this.key = key\n  }\n\n  get () {\n    return browserCookie ? browserCookie.get(this.key) : false\n  }\n\n  set (val, opts = {expires: 365}) {\n    browserCookie && browserCookie.set(this.key, val, opts)\n  }\n\n  erase () {\n    browserCookie && browserCookie.erase(this.key)\n  }\n}\n\nlet cookies = {}\n\nfunction add (key) {\n  if (cookies[key]) {\n    console.warn('Cookie already exist')\n    return\n  }\n\n  return cookies[key] = new CookieAbstraction(key)\n}\n\nfunction get(key) {\n  if (!cookies[key]) console.warn(`${key} does not exist`)\n  else return cookies[key]\n}\n\nfunction set(key, val) {\n  if (!cookies[key]) console.warn(`${key} does not exist`)\n  else cookies[key].set(val)\n}\n\nfunction eraseAll() {\n  for (const key in cookies) {\n    cookies[key].erase()\n  }\n}\n\nexport {\n  cookies,\n  add,\n  get,\n  set,\n  eraseAll\n}","export default {\n  popinStatus: false,\n  bannerStatus: false,\n  hasInteract: true\n}\n","import { add } from './cookie'\nimport store from './store'\n\nfunction getExpirationDate (ga) {\n  const secExpire = 60 * 60 * 24 * 30 * 13 * 1000\n  try {\n    const gaCreate = (Number(ga.split('.').pop())) * 1000\n    const t = new Date().getTime()\n    const t0 = new Date(gaCreate).getTime()\n    const t1 = t0 + secExpire\n    const tDiff = Math.round((t1 - t) / 1000)\n    return tDiff\n  } catch (e) {\n    return secExpire / 1000\n  }\n}\n\nfunction appendScript (UA) {\n  const libScript = document.createElement('script')\n  const funcScript = document.createElement('script')\n\n  libScript.setAttribute('async', 'true')\n  libScript.setAttribute('src', `https://www.googletagmanager.com/gtag/js?id=${UA}`)\n\n  funcScript.setAttribute('type', 'text/javascript')\n  funcScript.innerHTML = `\n    window.dataLayer = window.dataLayer || [];\n    function gtag () { dataLayer.push(arguments) };\n    window.gtag = gtag;\n  `\n\n  const body = document.getElementsByTagName('body')[0]\n  body.appendChild(libScript)\n  body.appendChild(funcScript)\n}\n\nfunction start (props, cookie) {\n  const {UA, anonymizeIp = true, forceSSL = true, firstPageView = false} = props\n  window.gtag('js', new Date());\n\n  const params = {\n    'cookie_expires': getExpirationDate(cookie),\n    'anonymize_ip': anonymizeIp,\n    'forceSSL': forceSSL,\n    'send_page_view': firstPageView\n  }\n\n  window.gtag('config', `${UA}`, params)\n}\n\nfunction trigger (func) {\n  store.functional.get() === true && func(window.gtag)\n}\n\nfunction init (props) {\n  const {name, logs} = props\n  logs && console.log(`[_ga] => INIT`, props)\n\n  appendScript(props.UA)\n  const cookie = add('_ga')\n  start(props, cookie.get())\n\n  return {\n    cookie,\n    trigger\n  }\n}\n\nexport default init","export default {\n  FUNCTIONAL: 'functional',\n  PERFORMANCE: 'performance',\n  SOCIAL: 'social',\n  ADVERTISING: 'advertising'\n}","function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar crel = createCommonjsModule(function (module, exports) {\n\n/* Copyright (C) 2012 Kory Nunn\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\nNOTE:\r\nThis code is formatted for run-speed and to assist compilers.\r\nThis might make it harder to read at times, but the code's intention should be transparent. */\r\n\r\n// IIFE our function\r\n(function (exporter) {\r\n    // Define our function and its properties\r\n    // These strings are used multiple times, so this makes things smaller once compiled\r\n    var func = 'function',\r\n        isNodeString = 'isNode',\r\n        // Helper functions used throughout the script\r\n        isType = function (object, type) { return typeof object === type; },\r\n        // Recursively appends children to given element. As a text node if not already an element\r\n        appendChild = function (element, child) {\r\n            if (child !== null) {\r\n                if (Array.isArray(child)) { // Support (deeply) nested child elements\r\n                    child.map(function (subChild) { return appendChild(element, subChild); });\r\n                } else {\r\n                    if (!crel[isNodeString](child)) {\r\n                        child = document.createTextNode(child);\r\n                    }\r\n                    element.appendChild(child);\r\n                }\r\n            }\r\n        };\r\n    //\r\n    function crel (element, settings) {\r\n        // Define all used variables / shortcuts here, to make things smaller once compiled\r\n        var args = arguments, // Note: assigned to a variable to assist compilers.\r\n            index = 1,\r\n            key,\r\n            attribute;\r\n        // If first argument is an element, use it as is, otherwise treat it as a tagname\r\n        element = crel.isElement(element) ? element : document.createElement(element);\r\n        // Check if second argument is a settings object\r\n        if (isType(settings, 'object') && !crel[isNodeString](settings) && !Array.isArray(settings)) {\r\n            // Don't treat settings as a child\r\n            index++;\r\n            // Go through settings / attributes object, if it exists\r\n            for (key in settings) {\r\n                // Store the attribute into a variable, before we potentially modify the key\r\n                attribute = settings[key];\r\n                // Get mapped key / function, if one exists\r\n                key = crel.attrMap[key] || key;\r\n                // Note: We want to prioritise mapping over properties\r\n                if (isType(key, func)) {\r\n                    key(element, attribute);\r\n                } else if (isType(attribute, func)) { // ex. onClick property\r\n                    element[key] = attribute;\r\n                } else {\r\n                    // Set the element attribute\r\n                    element.setAttribute(key, attribute);\r\n                }\r\n            }\r\n        }\r\n        // Loop through all arguments, if any, and append them to our element if they're not `null`\r\n        for (; index < args.length; index++) {\r\n            appendChild(element, args[index]);\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    // Used for mapping attribute keys to supported versions in bad browsers, or to custom functionality\r\n    crel.attrMap = {};\r\n    crel.isElement = function (object) { return object instanceof Element; };\r\n    crel[isNodeString] = function (node) { return node instanceof Node; };\r\n    // Expose proxy interface\r\n    crel.proxy = new Proxy(crel, {\r\n        get: function (target, key) {\r\n            !(key in crel) && (crel[key] = crel.bind(null, key));\r\n            return crel[key];\r\n        }\r\n    });\r\n    // Export crel\r\n    exporter(crel, func);\r\n})(function (product, func) {\r\n    {\r\n        // Export for Browserify / CommonJS format\r\n        module.exports = product;\r\n    }\r\n});\n});\n\nexport default crel;\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import crel from 'crel'\nimport classNames from 'classnames'\nimport store from '../store'\n\nlet $banner\nlet $accept\nlet $configure\nlet $title\nlet $description\nlet cookies\nlet translations\n\nfunction create () {\n  const {banner} = translations\n  $title = crel('div', {class: 'banner-title'}, banner.title)\n  $description = crel('div', {class: 'banner-description'}, banner.description)\n  $accept = crel('button', {class: 'banner-button'}, banner.accept)\n  $configure = crel('button', {class: 'banner-button'}, banner.configure)\n\n  $banner = crel(\n    'div',\n    {class: classNames('banner-component', {hide: !store.bannerStatus.get()})},\n    crel(\n      'div',\n      {class: 'banner-content'},\n      $title,\n      $description,\n      crel('div', {class: 'banner-ctas'}, $accept, $configure)\n    )\n  )\n\n  listen()\n}\n\nfunction updateTexts (translations) {\n  const {banner} = translations\n\n  $title.innerHTML = banner.title\n  $description.innerHTML = banner.description\n  $accept.innerHTML = banner.accept\n  $configure.innerHTML = banner.configure\n}\n\nfunction destroy () {\n  translations = null\n  cookies = null\n  unlisten()\n}\n\nfunction show() {\n  $banner.classList.remove('hide')\n}\n\nfunction hide () {\n  $banner.classList.add('hide')\n}\n\nfunction onAccept () {\n  store.bannerStatus.set(false)\n  store.hasInteract.set(true)\n\n  for (const key in cookies) {\n    store[key].set(true)\n  }\n}\n\nfunction onConfigure () {\n  store.bannerStatus.set(false)\n  store.popinStatus.set(true)\n}\n\nconst toggle = bool => bool ? show() : hide()\n\nfunction listen () {\n  store.bannerStatus.listen(toggle)\n  $accept.addEventListener('click', onAccept)\n  $configure.addEventListener('click', onConfigure)\n}\n\nfunction unlisten () {\n  store.bannerStatus.unlisten(toggle)\n  $accept.removeEventListener('click', onAccept)\n  $configure.removeEventListener('click', onConfigure)\n}\n\nfunction init (trlts, cks) {\n  translations= trlts\n  cookies = cks\n  create()\n\n  return {\n    updateTexts,\n    destroy,\n    dom: $banner\n  }\n}\n\nexport default init","import crel from 'crel'\nimport store from '../store'\nimport TYPES from '../types'\nimport { eraseAll, set } from '../cookie'\nimport classNames from 'classnames'\n\nlet translations\nlet cookies\n\nlet $popin\nlet $fields = []\nlet $form\nlet $submit\n\nfunction createField (key, params) {\n  const field = translations[key]\n  if (!field || !field.title || !field.description) {\n    console.warn(`Missing title or description for type ${key}`)\n    return\n  }\n\n  const inputParams = {type: 'checkbox', name: key, id: key}\n  if (params.required) inputParams.required = 'required'\n\n  if (store[key].get()) inputParams.checked = true\n\n  $fields.push(\n    crel(\n      'div',\n      {class: 'field'},\n      crel('input', inputParams),\n      crel(\n        'label',\n        {class: 'label', type: 'checkbox', for: key},\n        crel('span', {class: 'field-title'}, field.title),\n        crel('span', {class: 'field-description'}, field.description)\n      ),\n    )\n  )\n}\n\nfunction create (params) {\n  for (const key in cookies) {\n    let prms\n    params.forEach(pr => {\n      if (pr.type === key) prms = pr\n    })\n\n    createField(key, prms)\n  }\n\n  $submit = crel('button', {type: 'submit'}, translations.submit)\n\n  $form = crel(\n    'form',\n    $fields,\n    $submit\n  )\n\n  $popin = crel(\n    'div',\n    {class: classNames('popin-component', {hide: !store.popinStatus.get()})},\n    $form,\n  )\n\n  listen()\n}\n\nfunction updateTexts (translations) {\n  $submit.innerHTML = translations.submit\n\n  let index = 0\n  for (const key in cookies) {\n    const trls = translations[key]\n    const $field = $fields[index]\n\n    $field.querySelector('.field-title').innerHTML = trls.title\n    $field.querySelector('.field-description').innerHTML = trls.description\n\n    index++\n  }\n}\n\nfunction onSubmit (e) {\n  e.preventDefault()\n  const $inputs = [].slice.call(e.srcElement.querySelectorAll('input[type=\"checkbox\"]'))\n\n  const state = {}\n  $inputs.forEach(input => {\n    const key = input.getAttribute('name')\n    const val = input.checked\n    state[key] = val\n    store[key].set(val)\n    set(key, val ? '1' : '0')\n  })\n\n  if (!state[TYPES.FUNCTIONAL]) eraseAll()\n  store.popinStatus.set(false)\n  store.hasInteract.set(true)\n}\n\nfunction show () {\n  $popin.classList.remove('hide')\n}\n\nfunction hide () {\n  $popin.classList.add('hide')\n}\n\nconst toggle = (bool) => bool ? show() : hide()\n\nfunction listen () {\n  $form.addEventListener('submit', onSubmit)\n  store.popinStatus.listen(toggle)\n}\n\nfunction unlisten () {\n  $form.removeEventListener('submit', onSubmit)\n  store.popinStatus.unlisten(toggle)\n}\n\nfunction destroy () {\n  unlisten()\n}\n\nfunction init (trlts, cks, params) {\n  translations= trlts\n  cookies = cks\n\n  create(params)\n\n  return {\n    updateTexts,\n    destroy,\n    dom: $popin\n  }\n}\n\nexport default init","import crel from 'crel'\nimport store from '../store'\nimport classNames from 'classnames'\n\nlet $fields = {}\nlet $debug\n\nfunction createField (key, val) {\n  return crel(\n    'div',\n    {class: classNames('debug-field', {valid: val})},\n    `${key} = ${val}`\n  )\n}\n\nconst updateField = (key) => (val) => {\n  $fields[key].innerHTML = `${key} = ${val}`\n  $fields[key].classList.toggle('valid', val)\n}\n\nfunction create () {\n  for (const key in store) {\n    $fields[key] = createField(key, store[key].get())\n  }\n\n  $debug = crel(\n    'div',\n    {class: 'debug-component'},\n    Object.values($fields),\n  )\n\n  listen()\n}\n\n\nfunction listen () {\n  for (const key in store) {\n    store[key].listen(updateField(key))\n  }\n}\n\nfunction unlisten () {\n  for (const key in store) {\n    store[key].unlisten(updateField)\n  }\n}\n\nfunction update () {\n\n}\n\nfunction destroy () {\n  unlisten()\n}\n\nfunction init () {\n\n  create()\n\n  return {\n    update,\n    destroy,\n    dom: $debug\n  }\n}\n\nexport default init","import Banner from './banner'\nimport Popin from './popin'\nimport Debug from './debug'\nimport store from '../store'\nimport crel from 'crel'\nimport classNames from 'classnames'\n\nlet banner\nlet popin\nlet debug\n\nconst body = document.getElementsByTagName('body')[0]\n\nfunction updateTexts (translations) {\n  banner.updateTexts(translations)\n  popin.updateTexts(translations)\n}\n\nfunction destroy () {\n  banner.destroy()\n  popin.destroy()\n  debug && debug.destroy()\n}\n\nexport default function init (cookies, translations, params, dbg, className = '') {\n  banner = Banner(translations, cookies)\n  popin = Popin(translations, cookies, params)\n  if (dbg) debug = Debug()\n\n  const $cookz = crel(\n    'div',\n    {class: classNames('cookz-component', className)},\n    banner.dom,\n    popin.dom,\n    dbg ? debug.dom : null\n  )\n\n  body.appendChild($cookz)\n\n  return {\n    updateTexts,\n    destroy,\n    dom: $cookz\n  }\n}","import { createStore } from './src/state'\n\nimport ga from './src/ga.js'\nimport store from './src/store'\nimport {add} from './src/cookie'\nimport TYPES from './src/types'\nimport UIManager from './src/ui/index'\n\nimport css from './src/main.scss'\n\nconst _cookies = {}\nconst customCookies = {}\nconst services = {}\nlet UI\n\nconst update = (name) => (val) => {\n  store.logs.get() && console.log(`[store] => update ${name} to ${val}`)\n  _cookies[name].set(val ? '1' : '0')\n}\n\nfunction listen () {\n  for(const key in _cookies) {\n    store[key].listen(update(key))\n  }\n}\n\nfunction updateTexts (translations) {\n  UI.updateTexts(translations)\n}\n\nfunction init (params) {\n  const {cookies, logs, translations, debug, className} = params\n  const storeValues = {}\n  storeValues.logs = params.logs || false\n\n  let isFunctional\n  let isPerformance\n  let isSocial\n  let isAdvertising\n\n  cookies.forEach(cookie => {\n    const { name } = cookie\n\n    isFunctional |= cookie.type === TYPES.FUNCTIONAL\n    isPerformance |= cookie.type === TYPES.PERFORMANCE\n    isSocial |= cookie.type === TYPES.SOCIAL\n    isAdvertising |= cookie.type === TYPES.ADVERTISING\n\n    // GA service\n    if (cookie.service === 'GA' && cookie.type === TYPES.PERFORMANCE) {\n      services.ga = ga(cookie)\n    } else if (cookie.type === TYPES.FUNCTIONAL) {\n      customCookies[name] = add(cookie.name)\n    }\n  })\n\n  // Enable functionnal when there at least 1 coookie\n  if (isSocial || isPerformance || isAdvertising) isFunctional = true\n\n  // Check functional type\n  if (isFunctional) {\n    _cookies[TYPES.FUNCTIONAL] = add(TYPES.FUNCTIONAL)\n    storeValues[TYPES.FUNCTIONAL] = _cookies[TYPES.FUNCTIONAL].get() === '1'\n  }\n\n  // Check performance type\n  if (isPerformance) {\n    _cookies[TYPES.PERFORMANCE] = add(TYPES.PERFORMANCE)\n    storeValues[TYPES.PERFORMANCE] = _cookies[TYPES.PERFORMANCE].get() === '1'\n  }\n\n  // Check social type\n  if (isSocial) {\n    _cookies[TYPES.SOCIAL] = add(TYPES.SOCIAL)\n    storeValues[TYPES.SOCIAL] = _cookies[TYPES.SOCIAL].get() === '1'\n  }\n\n  // Check advertising type\n  if (isAdvertising) {\n    _cookies[TYPES.ADVERTISING] = add(TYPES.ADVERTISING)\n    storeValues[TYPES.ADVERTISING] = _cookies[TYPES.ADVERTISING].get() === '1'\n  }\n\n  // Create store from dynamic & static values\n  Object.assign(store, createStore(Object.assign(store, storeValues)))\n\n  // Show cookie is there's no functionnal cookie\n  if (!_cookies[TYPES.FUNCTIONAL].get()) {\n    store.bannerStatus.set(true)\n    store.hasInteract.set(false)\n  }\n\n  // Listen store events\n  listen()\n\n  // UI Instance\n  UI = UIManager(_cookies, translations, cookies, debug, className)\n}\n\n\nmodule.exports = {\n  init,\n  store,\n  TYPES,\n  services,\n  css,\n  updateTexts\n}"]}